<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Programme Interactif</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/xterm/css/xterm.css" />
</head>
<body>
    <h1>Programme C Interactif</h1>
    <div id="terminal" style="width: 100%; height: 400px; border: 1px solid #000;"></div>
    <script src="https://cdn.jsdelivr.net/npm/xterm/lib/xterm.js"></script>
    <script>
        const term = new Terminal({ cursorBlink: true });
        term.open(document.getElementById('terminal'));

        let state = "menu";
        term.writeln("Choisissez une option :");
        term.writeln("1. Option 1");
        term.writeln("2. Option 2");
        term.write("> ");

        let inputBuffer = "";

        term.onData((data) => {
            if (data.charCodeAt(0) === 13) { // Touche Entrée
                term.writeln("");
                if (state === "menu") {
                    if (inputBuffer === "1") {
                        term.writeln("Vous avez choisi l'option 1.");
                    } else if (inputBuffer === "2") {
                        term.writeln("Vous avez choisi l'option 2.");
                    } else {
                        term.writeln("Choix invalide.");
                    }
                    term.write("> ");
                }
                inputBuffer = ""; // Réinitialiser l'entrée
            } else {
                term.write(data); // Affiche l'entrée utilisateur
                inputBuffer += data; // Ajoute au buffer
            }
        });
    </script>
</body>
</html>
